<div *ngIf="pelicula" style="display: flex;">
    <div>
        <h2>{{pelicula.title}} ({{fechaLanzamiento.getFullYear()}})</h2>
        
        <mat-chip-list>
            <mat-chip
            [routerLink]="['/peliculas/buscar']"
            [queryParams]="{genreId: genero.id}"
            *ngFor="let genero of pelicula.genres">
                {{genero.name}}
            </mat-chip>
        </mat-chip-list>
        | {{fechaLanzamiento.toDateString()}} | Promedio: {{pelicula.average}} | Tu voto: 

        <app-rating [ratingSeleccionado]="pelicula.userVote"
        (rated)="rated($event)"></app-rating>

        <div style="display: flex;">
            <span style="display: inline-block; margin-right: 1rem;">
                <img [src]="pelicula.poster" style="width: 225px;height: 315px;">
            </span>
            <div *ngIf="pelicula.trailer">
                    <iframe
                    width="560"
                    height="315"
                    [src]="trailerURL"
                    frameBorder="0"
                    allow="accelerometer;autoplay;encrypted-media;gyroscope;picture-in-picture"
                    allowfullscreen>

                    </iframe>
            </div>
        </div>

        <div style="margin: 1rem;">
            <h3>Resumen</h3>
            <div>
                <markdown [data]="pelicula.overview"></markdown>
            </div>
        </div>

        <div style="margin-top: 1rem;">
            <h3>Actores</h3>
            <div style="display: flex; flex-direction: column;">
                <div *ngFor="let actor of pelicula.actors" style="margin-bottom: 2px;">
                    <img [src]="actor.photo" style="width: 50px;vertical-align: middle;"/>
                    <span style="display: inline-block;width: 200px;margin-left: 1rem;">
                        {{actor.name}}
                    </span>
                    <span style="display: inline-block; width: 45px;">...</span>
                    <span>{{actor.character}}</span>
                </div>
            </div>
        </div>
    </div>
    <div style="padding-left: 1rem;position: relative;width: 100%;" *ngIf="coordenadas.length > 0">
        <h2 style="padding-bottom: 35px;">En los siguientes Cines</h2>
        <app-mapa
        [coordenadasIniciales]="coordenadas"
        [options]="options"
        [soloLectura]="true"
        >

        </app-mapa>
    </div>
</div>

<mat-spinner *ngIf="!pelicula"></mat-spinner>